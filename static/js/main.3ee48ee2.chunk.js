(this["webpackJsonpcheck-in-app"]=this["webpackJsonpcheck-in-app"]||[]).push([[2],{18:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(5),c=n(31),i=n(15),s=function(e,t){var n=t.payload.passengerName,i=t.payload.checkInID?t.payload.checkInID:"",s=t.payload.flightDetails,r=Object(c.a)(e.flights).find((function(e){return e.number.toString()===s[0].number.toString()})),o=r.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));o.seat=i.toString();var l=Object(a.a)(Object(a.a)({},r.passengers),{},{selectedPassenger:o}),j=Object(a.a)(Object(a.a)({},r),{},{newPassengers:l});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:j})},r=Object(i.b)({name:"flight",initialState:{flights:[],isLoading:!1},reducers:{getFlightData:function(e,t){e.flights=t.payload},toggleLoading:function(e){e.isLoading=!e.isLoading},passengerCheckIn:function(e,t){s(e,t)},undoCheckIn:function(e,t){s(e,t)},addSpecialService:function(e,t){!function(e,t){var n=t.payload.passengerName,i=t.payload.flightDetails,s=t.payload.specialSeat?t.payload.specialSeat:"",r=t.payload.specialMeal?t.payload.specialMeal:"",o=Object(c.a)(e.flights).find((function(e){return e.number.toString()===i[0].number.toString()})),l=o.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));s&&("Passenger with infant"===s?l.specServ.INF=!0:"Passenger with wheelchair"===s&&(l.specServ.WCH=!0)),r&&(l.specMeal={SPEC:r.toString()});var j=Object(a.a)(Object(a.a)({},o.passengers),{},{selectedPassenger:l}),d=Object(a.a)(Object(a.a)({},o),{},{newPassengers:j});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:d})}(e,t)},adminModification:function(e,t){!function(e,t){var n=t.payload.passengerName,i=t.payload.passName,s=t.payload.passDOB,r=t.payload.passPassport,o=t.payload.flightDetails,l=Object(c.a)(e.flights).find((function(e){return e.number.toString()===o[0].number.toString()})),j=l.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));i&&(j.name=i),s&&(j.birthday=s),r&&(j.passport=r);var d=Object(a.a)(Object(a.a)({},l.passengers),{},{selectedPassenger:j}),b=Object(a.a)(Object(a.a)({},l),{},{newPassengers:d});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:b})}(e,t)}}}),o=r.actions;t.a=r},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(15),c=Object(a.b)({name:"showNavTable",initialState:{showTable:!0},reducers:{showTable:function(e){e.showTable=!0},hideTable:function(e){e.showTable=!1}}}),i=c.actions;t.a=c},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var a=n(63),c=n(2);function i(){return Object(c.jsx)(a.a,{disableShrink:!0})}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(15),c=Object(a.b)({name:"auth",initialState:{isLogged:!1,isAdmin:!1,isOnSite:!1},reducers:{login:function(e){e.isLogged=!0,e.isOnSite=!0,localStorage.setItem("logged",e.isOnSite)},adminLogin:function(e){e.isLogged=!0,e.isAdmin=!0,e.isOnSite=!0,localStorage.setItem("logged",e.isOnSite),localStorage.setItem("admin",e.isAdmin)},logout:function(e){e.isLogged=!1,e.isAdmin=!1,e.isOnSite=!1,localStorage.removeItem("admin"),localStorage.removeItem("logged")},setLocalStorage:function(e){var t=localStorage.getItem("logged");e.isOnSite=t;var n=localStorage.getItem("admin");e.isAdmin=n}}}),i=c.actions;t.b=c},43:function(e,t,n){},47:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(22),s=n.n(i),r=n(12),o=n(9),l=(n(47),n(35)),j=n.n(l),d=n(45),b=n(18),u=(n(43),n(3)),h=n(26),g=n(2),O=c.a.lazy((function(){return n.e(11).then(n.bind(null,144))})),p=c.a.lazy((function(){return Promise.all([n.e(1),n.e(12),n.e(7)]).then(n.bind(null,159))})),f=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,148))})),m=c.a.lazy((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,158))})),x=c.a.lazy((function(){return Promise.all([n.e(1),n.e(8)]).then(n.bind(null,160))})),v=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,155))})),S=function(){var e=Object(g.jsxs)("div",{className:"section__loading",children:[Object(g.jsx)(h.a,{}),Object(g.jsx)("h3",{children:"Loading..."})]});return Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)(a.Suspense,{fallback:e,children:Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{path:"/",exact:!0,children:Object(g.jsx)(u.a,{to:"home"})}),Object(g.jsx)(u.b,{path:"/home",children:Object(g.jsx)(O,{})}),Object(g.jsx)(u.b,{path:"/check-in",children:Object(g.jsx)(f,{})}),Object(g.jsx)(u.b,{path:"/flight-details",children:Object(g.jsx)(v,{})}),Object(g.jsx)(u.b,{path:"/passengers-list",children:Object(g.jsx)(m,{})}),Object(g.jsx)(u.b,{path:"/add-passenger-service",children:Object(g.jsx)(p,{})}),Object(g.jsx)(u.b,{path:"/admin-changes",children:Object(g.jsx)(x,{})}),Object(g.jsx)(u.b,{path:"*",children:Object(g.jsx)(u.a,{to:"home"})})]})})})},y=(n(60),n(28)),k=function(){var e=Object(o.b)(),t=Object(u.g)();return Object(g.jsxs)("div",{className:"header__control",children:[Object(g.jsx)("h1",{children:Object(g.jsx)(r.c,{to:"/home",children:"Check in App"})}),Object(g.jsx)("button",{className:"btn__logout",onClick:function(){localStorage.removeItem("logged"),e(y.a.logout()),t.push("/")},children:"Log out"})]})},w=n(23),C=(n(61),function(e){var t=Object(o.c)((function(e){return e.auth.isAdmin})),n=Object(o.b)(),a=function(){n(w.b.showTable())};return Object(g.jsx)("div",{className:"aside__nav",children:Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{onClick:a,children:Object(g.jsx)(r.c,{to:"/check-in",children:"Passenger Check-in"})}),Object(g.jsx)("li",{onClick:a,children:Object(g.jsx)(r.c,{to:"/flight-details",children:"Flight details"})}),Object(g.jsx)("li",{onClick:a,children:Object(g.jsx)(r.c,{to:"/passengers-list",children:"Passengers List"})}),Object(g.jsx)("li",{onClick:a,children:Object(g.jsx)(r.c,{to:"/add-passenger-service",children:"Add Passenger Service"})}),t&&Object(g.jsx)("li",{onClick:a,children:Object(g.jsx)(r.c,{to:"/admin-changes",children:"Admin Panel for Changes"})})]})})})}),P=function(){return Object(g.jsx)("div",{className:"footer",children:"Copyright\xa9 Piotr Maniak"})},L=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){(function(){var t=Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(b.b.toggleLoading()),t.next=3,fetch("https://raw.githubusercontent.com/piterman93/check-in-app/master/FlightData.json");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("something went wrong!");case 6:return t.next=8,n.json();case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(t){t&&(e(b.b.getFlightData(t)),e(b.b.toggleLoading()))})).catch((function(e){return alert(e.message)}))}),[e]),Object(g.jsxs)("div",{className:"app",children:[Object(g.jsx)("header",{className:"header",children:Object(g.jsx)(k,{})}),Object(g.jsxs)("main",{className:"main",children:[Object(g.jsx)("aside",{children:Object(g.jsx)(C,{})}),Object(g.jsx)("section",{className:"page",children:Object(g.jsx)(S,{})})]}),Object(g.jsx)("footer",{children:Object(g.jsx)(P,{})})]})},N=c.a.lazy((function(){return n.e(9).then(n.bind(null,143))}));var I=function(){var e=Object(o.c)((function(e){return e.auth.isLogged})),t=Object(o.c)((function(e){return e.auth.isOnSite})),n=Object(g.jsxs)("div",{className:"section__loading",children:[Object(g.jsx)(h.a,{}),Object(g.jsx)("h3",{children:"Loading..."})]});return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(a.Suspense,{fallback:n,children:!e&&!t&&Object(g.jsx)(N,{})}),(e||t)&&Object(g.jsx)(L,{})]})},F=n(15),_=Object(F.a)({reducer:{auth:y.b.reducer,flight:b.a.reducer,showNavTable:w.a.reducer}});s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(o.a,{store:_,children:Object(g.jsx)(r.a,{children:Object(g.jsx)(I,{})})})}),document.getElementById("root"))}},[[62,3,4]]]);
//# sourceMappingURL=main.3ee48ee2.chunk.js.map