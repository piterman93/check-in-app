(this["webpackJsonpcheck-in-app"]=this["webpackJsonpcheck-in-app"]||[]).push([[2],{18:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(5),c=n(31),i=n(15),s=function(e,t){var n=t.payload.passengerName,i=t.payload.checkInID?t.payload.checkInID:"",s=t.payload.flightDetails,r=Object(c.a)(e.flights).find((function(e){return e.number.toString()===s[0].number.toString()})),o=r.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));o.seat=i.toString();var l=Object(a.a)(Object(a.a)({},r.passengers),{},{selectedPassenger:o}),j=Object(a.a)(Object(a.a)({},r),{},{newPassengers:l});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:j})},r=Object(i.b)({name:"flight",initialState:{flights:[],isLoading:!1},reducers:{getFlightData:function(e,t){e.flights=t.payload},toggleLoading:function(e){e.isLoading=!e.isLoading},passengerCheckIn:function(e,t){s(e,t)},undoCheckIn:function(e,t){s(e,t)},addSpecialService:function(e,t){!function(e,t){var n=t.payload.passengerName,i=t.payload.flightDetails,s=t.payload.specialSeat?t.payload.specialSeat:"",r=t.payload.specialMeal?t.payload.specialMeal:"",o=Object(c.a)(e.flights).find((function(e){return e.number.toString()===i[0].number.toString()})),l=o.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));s&&("Passenger with infant"===s?l.specServ.INF=!0:"Passenger with wheelchair"===s&&(l.specServ.WCH=!0)),r&&(l.specMeal={SPEC:r.toString()});var j=Object(a.a)(Object(a.a)({},o.passengers),{},{selectedPassenger:l}),d=Object(a.a)(Object(a.a)({},o),{},{newPassengers:j});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:d})}(e,t)},adminModification:function(e,t){!function(e,t){var n=t.payload.passengerName,i=t.payload.passName,s=t.payload.passDOB,r=t.payload.passPassport,o=t.payload.flightDetails,l=Object(c.a)(e.flights).find((function(e){return e.number.toString()===o[0].number.toString()})),j=l.passengers.find((function(e){return e.name.toUpperCase()===n.toUpperCase()}));i&&(j.name=i),s&&(j.birthday=s),r&&(j.passport=r);var d=Object(a.a)(Object(a.a)({},l.passengers),{},{selectedPassenger:j}),b=Object(a.a)(Object(a.a)({},l),{},{newPassengers:d});e=Object(a.a)(Object(a.a)({},e),{},{newFlight:b})}(e,t)}}}),o=r.actions;t.a=r},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(15),c=Object(a.b)({name:"showNavTable",initialState:{showTable:!0},reducers:{showTable:function(e){e.showTable=!0},hideTable:function(e){e.showTable=!1}}}),i=c.actions;t.a=c},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var a=n(63),c=n(2);function i(){return Object(c.jsx)(a.a,{disableShrink:!0})}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(15),c=Object(a.b)({name:"auth",initialState:{isLogged:!1,isAdmin:!1,isOnSite:!1},reducers:{login:function(e){e.isLogged=!0,e.isOnSite=!0,localStorage.setItem("logged",e.isOnSite)},adminLogin:function(e){e.isLogged=!0,e.isAdmin=!0,e.isOnSite=!0,localStorage.setItem("logged",e.isOnSite),localStorage.setItem("admin",e.isAdmin)},logout:function(e){e.isLogged=!1,e.isAdmin=!1,e.isOnSite=!1,localStorage.removeItem("admin"),localStorage.removeItem("logged")},setLocalStorage:function(e){var t=localStorage.getItem("logged");e.isOnSite=t;var n=localStorage.getItem("admin");e.isAdmin=n}}}),i=c.actions;t.b=c},43:function(e,t,n){},47:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(22),s=n.n(i),r=n(12),o=n(9),l=(n(47),n(35)),j=n.n(l),d=n(45),b=(n(43),n(3)),u=n(26),h=n(2),g=c.a.lazy((function(){return n.e(11).then(n.bind(null,144))})),O=c.a.lazy((function(){return Promise.all([n.e(1),n.e(12),n.e(7)]).then(n.bind(null,159))})),p=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,148))})),f=c.a.lazy((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,158))})),m=c.a.lazy((function(){return Promise.all([n.e(1),n.e(8)]).then(n.bind(null,160))})),x=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,155))})),v=function(){var e=Object(h.jsxs)("div",{className:"section__loading",children:[Object(h.jsx)(u.a,{}),Object(h.jsx)("h3",{children:"Loading..."})]});return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)(a.Suspense,{fallback:e,children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{path:"/",exact:!0,children:Object(h.jsx)(b.a,{to:"home"})}),Object(h.jsx)(b.b,{path:"/home",children:Object(h.jsx)(g,{})}),Object(h.jsx)(b.b,{path:"/check-in",children:Object(h.jsx)(p,{})}),Object(h.jsx)(b.b,{path:"/flight-details",children:Object(h.jsx)(x,{})}),Object(h.jsx)(b.b,{path:"/passengers-list",children:Object(h.jsx)(f,{})}),Object(h.jsx)(b.b,{path:"/add-passenger-service",children:Object(h.jsx)(O,{})}),Object(h.jsx)(b.b,{path:"/admin-changes",children:Object(h.jsx)(m,{})}),Object(h.jsx)(b.b,{path:"*",children:Object(h.jsx)(b.a,{to:"home"})})]})})})},S=(n(60),n(28)),y=function(){var e=Object(o.b)(),t=Object(b.g)();return Object(h.jsxs)("div",{className:"header__control",children:[Object(h.jsx)("h1",{children:Object(h.jsx)(r.c,{to:"/home",children:"Check in App"})}),Object(h.jsx)("button",{className:"btn__logout",onClick:function(){localStorage.removeItem("logged"),e(S.a.logout()),t.push("/")},children:"Log out"})]})},k=(n(61),n(23)),w=function(){var e=Object(o.c)((function(e){return e.auth.isAdmin})),t=Object(o.b)(),n=function(){t(k.b.showTable())};return Object(h.jsx)("div",{className:"aside__nav",children:Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:n,children:Object(h.jsx)(r.c,{to:"/check-in",children:"Passenger Check-in"})}),Object(h.jsx)("li",{onClick:n,children:Object(h.jsx)(r.c,{to:"/flight-details",children:"Flight details"})}),Object(h.jsx)("li",{onClick:n,children:Object(h.jsx)(r.c,{to:"/passengers-list",children:"Passengers List"})}),Object(h.jsx)("li",{onClick:n,children:Object(h.jsx)(r.c,{to:"/add-passenger-service",children:"Add Passenger Service"})}),e&&Object(h.jsx)("li",{onClick:n,children:Object(h.jsx)(r.c,{to:"/admin-changes",children:"Admin Panel for Changes"})})]})})})},C=function(){return Object(h.jsx)("div",{className:"footer",children:"Copyright\xa9 Piotr Maniak"})},P=n(18),L=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){(function(){var t=Object(d.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(P.b.toggleLoading()),t.next=3,fetch("https://raw.githubusercontent.com/piterman93/check-in-app/master/FlightData.json");case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("something went wrong!");case 6:return t.next=8,n.json();case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(t){t&&(e(P.b.getFlightData(t)),e(P.b.toggleLoading()))})).catch((function(e){return alert(e.message)}))}),[e]),Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)("header",{className:"header",children:Object(h.jsx)(y,{})}),Object(h.jsxs)("main",{className:"main",children:[Object(h.jsx)("aside",{children:Object(h.jsx)(w,{})}),Object(h.jsx)("section",{className:"page",children:Object(h.jsx)(v,{})})]}),Object(h.jsx)("footer",{children:Object(h.jsx)(C,{})})]})},N=c.a.lazy((function(){return n.e(9).then(n.bind(null,143))}));var I=function(){var e=Object(o.c)((function(e){return e.auth.isLogged})),t=Object(o.c)((function(e){return e.auth.isOnSite})),n=Object(h.jsxs)("div",{className:"section__loading",children:[Object(h.jsx)(u.a,{}),Object(h.jsx)("h3",{children:"Loading..."})]});return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(a.Suspense,{fallback:n,children:!e&&!t&&Object(h.jsx)(N,{})}),(e||t)&&Object(h.jsx)(L,{})]})},F=n(15),_=Object(F.a)({reducer:{auth:S.b.reducer,flight:P.a.reducer,showNavTable:k.a.reducer}});s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(o.a,{store:_,children:Object(h.jsx)(r.a,{children:Object(h.jsx)(I,{})})})}),document.getElementById("root"))}},[[62,3,4]]]);
//# sourceMappingURL=main.6e154a09.chunk.js.map